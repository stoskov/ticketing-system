@model CommentViewModel

@{
    if (User.Identity.IsAuthenticated)
    {
        using (Ajax.BeginForm("PostComment", "Tickets",
            new AjaxOptions
            {
                HttpMethod = "Post",
                InsertionMode = InsertionMode.InsertAfter,
                UpdateTargetId = "comments",
                OnSuccess = "clearText"
            }))
        {
            @Html.EditorFor(m => m.Content)
            @Html.Hidden("TicketId", Model.TicketId)
            @Html.ValidationMessageFor(model => model.Content, null, new { @class = "help-inline" })
            @Html.AntiForgeryToken()
            <input type="submit" value="Post" />
        }
    }
}

<script>
    function clearText() {
        $("#Content").val("");
    }
</script>

